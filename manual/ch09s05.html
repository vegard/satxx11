<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Using the plugin</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="SAT++11 Manual"><link rel="up" href="ch09.html" title="Chapter 9. Tutorial: Writing a plugin"><link rel="prev" href="ch09s04.html" title="Implementing the decision heuristic proper"><link rel="next" href="pt04.html" title="Part IV. Built-in plugins"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Using the plugin</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch09s04.html">Prev</a> </td><th width="60%" align="center">Chapter 9. Tutorial: Writing a plugin</th><td width="20%" align="right"> <a accesskey="n" href="pt04.html">Next</a></td></tr></table><hr></div><div class="section" title="Using the plugin"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp32281440"></a>Using the plugin</h2></div></div></div><p>In order to actually use the new decision heuristic plugin, we need to pass it to the solver somehow. The easiest way to do this is to modify the file <code class="filename">main.cc</code> in the top-level directory. The file <code class="filename">main.cc</code> is a <span class="emphasis"><em>program</em></span> that makes use of the <span class="application">satxx11</span> <span class="emphasis"><em>library</em></span>. You are supposed to modify the former, but not the latter. (If you do want to change some part of the library, you can of course just go ahead and do it. The intention, however, is that whenever you want to implement a new heuristic, you should <span class="emphasis"><em>extend</em></span> the library rather than modify it.)</p><p>With those few words of warning, let's include the new plugin:</p><pre class="programlisting">#include "my_decision.hh"</pre><p>Now we need to modify the definition of <code class="literal">my_solver</code> at the top of <code class="literal">main()</code>:</p><pre class="programlisting">typedef solver&lt;reason&gt; my_solver;</pre><p>We need to change this definition to use our new plugin instead of the default decision heuristic plugin. Now, since C++ sadly doesn't support named template parameters, we actually need to substitute this rather small definition with a somewhat verbose one. Let's first look at the default parameters that are defined in <code class="filename">include/satxx11/solver.hh</code>, it should look something like this:</p><pre class="programlisting">template&lt;class ReasonType,
    class Random = std::ranlux24_base,
    class Valuation = valuation_compact,
    class Stack = stack_default,
    class Decide = decide_cached_polarity&lt;decide_vsids&lt;95&gt;&gt;,
    class Propagate = propagate_list&lt;propagate_binary_clause, propagate_clause&lt;&gt;&gt;,
    class Analyze = analyze_1uip&lt;minimise_minisat&gt;,
    class Send = send_size&lt;4&gt;,
    class Receive = receive_all,
    class NextRestart = restart_multiply&lt;restart_luby, restart_fixed&lt;400&gt;&gt;,
    class Reduce = reduce_size&lt;2&gt;,
    class Simplify = simplify_list&lt;simplify_failed_literal_probing&gt;,
    class Plugin = plugin_list&lt;plugin_stdio&gt;&gt;
class solver {</pre><p>We therefore supply the new definition of <code class="literal">my_solver</code> to mimic these settings, at least until the parameter of the decision heuristic plugin, with the exception of using our new plugin instead of <code class="literal">decide_vsids</code>:</p><pre class="programlisting">typedef solver&lt;reason,
    std::ranlux24_base,
    valuation_compact,
    stack_default,
    decide_cached_polarity&lt;my_decide&gt;&gt; my_solver;</pre><p>And that's it. You should now be able to compile the solver as usual and enjoy 10% random decisions!</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch09s04.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch09.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="pt04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Implementing the decision heuristic proper </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Part IV. Built-in plugins</td></tr></table></div></body></html>
